<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        .words{
            background-color:yellow;
            width: 300px;
        }
    </style>
</head>
<body>
    <div id="google_translate_element"></div>
    <button class="btn">Get voice</button>
    <div class="words" contenteditable >sgjsfg</div>
    <div class="transWords" contenteditable ></div>
    <script type="text/javascript">
        const btn = document.querySelector('.btn');
        window.SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;

        const recognition = new SpeechRecognition();
        recognition.lang = 'ja';
        recognition.interimResults = true;

        let p = document.createElement('p');
        const words = document.querySelector('.words');
        words.appendChild(p);

        recognition.addEventListener('result',e=>{
            const transcript = Array.from(e.results)
            .map(result => result[0])
            .map(result => result.transcript)
            .join('')

            p.textContent = transcript;
            if(e.results[0].isFinal){
                p=document.createElement('p');
                words.appendChild(p);
            }
        });
        
        recognition.addEventListener('end', recognition.start);
        btn.addEventListener('click',function(){
            words.textContent = 'start';
            recognition.start();
        });
        const transWords = document.querySelector('.transWords');
        function googleTranslateElementInit() {
        new google.translate.TranslateElement({ pageLanguage: "ja" }, "google_translate_element");
        };
    </script>
    <script src="https://uploads-ssl.webflow.com/5e6cdff43dea835e0d32f309/5e6ce61775d1ae4d0299ac82_translator.txt"></script>
</body>
</html>